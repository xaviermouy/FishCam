# FishCam Configuration File
# This file contains all configuration parameters for the FishCam system

# General FishCam Settings
fishcam:
  id: "fishcam01"  # Unique identifier for this FishCam unit

# Video Capture Settings
video:
  duration: 900  # Duration of each video file in seconds
  resolution: [1920,1080] #[1920,1080] #[2560, 1920] #[2032,1520]  # Video resolution [width, height] in pixels
  frameRate: 10  # Frame rate in frames per second
  quality: 'medium'  # Encoding quality: 'very_low', 'low', 'medium', 'high', 'very_high'
  format: 'h264'  # Video format: 'h264' or 'mjpeg'

# Camera Control Settings
camera:
  # Image Quality Adjustments
  sharpness: 1.0  # Sharpness level: 0.0 to 16.0, default: 1.0
  contrast: 1.0  # Contrast level: 0.0 to 32.0, default: 1.0
  brightness: 0.0  # Brightness level: -1.0 to 1.0, default: 0.0
  saturation: 1.0  # Saturation level: 0.0 to 32.0, default: 1.0

  # Gain and Exposure
  AnalogueGain: 8.0  # Analogue gain (replaces ISO): 1.0 to 16.0
  AeEnable: true  # Auto Exposure: true (enabled) or false (disabled)
  AeExposureMode: 0  # Auto Exposure Mode: 0=Normal, 1=Short, 2=Long, 3=Custom

  # White Balance
  AwbEnable: true  # Auto White Balance: true (enabled) or false (disabled)
  AwbMode: 0  # AWB Mode: 0=Auto, 1=Tungsten, 2=Fluorescent, 3=Indoor, 4=Daylight, 5=Cloudy, 6=Custom

  # Image Orientation
  vflip: false  # Vertical flip: true or false
  hflip: false  # Horizontal flip: true or false

# Buzzer Settings
buzzer:
  enabled: true  # Enable/disable buzzer functionality
  pin: 26  # GPIO pin number for buzzer (BCM numbering)
  mode: 'auto'  # 'manual' or 'auto' mode
  iteration_period: -1  # Period for buzzer iterations (-1 = disabled)

  # Common settings
  beep_duration_sec: 0.1  # Duration of each beep in seconds
  beep_gap_sec: 0.1  # Gap between beeps in seconds
  number_sequences: 5  # Number of beep sequences to play

  # Manual mode settings - used when mode is 'manual'
  manual:
    beep_number: 2  # Number of beeps per sequence
    gap_between_sequences_sec: 5  # Gap between sequences in seconds
    initial_delay_sec: 0  # Initial delay before starting (0 = no delay, use for sequential beeping)

  # Auto mode settings - used when mode is 'auto'
  auto:
    total_fishcams: 6  # Total number of fishcams being deployed
    base_beeps: 10  # Base number of beeps (fishcam_number will be added to this)
    safety_buffer_sec: 2  # Safety buffer in seconds added to initial delays (accounts for clock drift/startup delays)

# Power Saving Mode Settings
power_saving:
  enabled: false  # Enable(true)/disable(false) power saving mode (requires reed switch hardware)
  reed_switch_pin: 18  # GPIO pin for reed switch (BCM numbering, right side of Pi)
  led_pin: 23  # GPIO pin for status LED (BCM numbering, right side of Pi)
  check_interval: 2.0  # How often to check reed switch state (seconds)

  # Audio feedback when in configuration mode
  beep_in_config_mode: false  # Enable/disable periodic beeps when magnet is near
  beep_interval: 10.0  # Interval between beeps in seconds
  beep_duration: 0.1  # Duration of each beep in seconds

  # Component-specific power saving controls
  # Each component can be individually enabled/disabled
  components:
    disable_wifi: true  # Disable WiFi in power saving mode (~40-50 mA savings)
    disable_bluetooth: true  # Disable Bluetooth in power saving mode (~10-15 mA savings)
    disable_hdmi: false  # Disable HDMI output in power saving mode (~20-30 mA savings)
    disable_usb: false  # Enable USB autosuspend in power saving mode (~20-30 mA savings)
    throttle_cpu: true  # Throttle CPU frequency (1000 MHz -> 600 MHz) (~50-100 mA savings)
    stop_services: true  # Stop non-essential services (~10-20 mA savings)
    disable_led_triggers: false  # Disable activity LED triggers (minimal savings)

# File Paths and Directories
paths:
  output_dir: '../data'  # Directory for output video files
  log_dir: '../logs'  # Directory for log files
  iterator_file: 'iterator.config'  # Filename for iteration counter
  config_file: 'fishcam_config.yaml'  # This configuration file